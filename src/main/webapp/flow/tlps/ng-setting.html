<div ng-init="getUserInit()">
	<!-- 面板-->
	<div class="panel panel-default" ng-class="{hidden: vm.hidden}">
		<div class="panel-heading">
			<span class="glyphicon glyphicon-th-list"></span> 个人中心<span
				class="pull-right"> <span class="glyphicon"
				ng-class="vm.collapsed?'glyphicon-chevron-down':'glyphicon-chevron-up'"
				ng-click="vm.collapsed = !vm.collapsed"></span>
			</span>
		</div>
		<div class="panel-collapse collapse" ng-class="{in: !vm.collapsed}">
			<div class="panel-body">
				<div class="row mg_t_20">
						<label class="col-md-offset-1 col-md-2 col-sm-4 control-label ">用户名：</label>
						<div class="col-md-2 col-sm-2">
							{{{true:userInfo.userName,false:'未设置'}[userInfo.userName!=undefined
							&& userInfo.userName!=null && userInfo.userName!='']}}</div>
				</div>
				<!-- -------------------------------------------邮箱 -->
				<div class="row mg_t_20">
						<label class="col-md-offset-1 col-md-2 col-sm-3 control-label ">绑定邮箱：</label>
						<div class="col-md-2 col-sm-5">
							<span
								ng-show="userInfo.email!=undefined && userInfo.email!=null && userInfo.email!=''">
								{{userInfo.email}} </span> <span
								ng-show="userInfo.email==undefined ||userInfo.email==null || userInfo.email==''">
								未绑定 </span>
						</div>
						<div class="col-md-2 col-sm-4">
							<span
								ng-show="userInfo.email!=undefined && userInfo.email!=null && userInfo.email!=''">
								<a href="#bindEmail">
								<button class="btn btn-xs btn-info">{{{true:'重新设置'}[userInfo.email!=undefined
									&& userInfo.email!=null && userInfo.email!='']}}</button></a>
							</span> <span
								ng-show="userInfo.email==undefined ||userInfo.email==null || userInfo.email==''">
								<a href="#setPayType/bindEmail">
									<button class="btn btn-xs btn-info">{{{true:'绑定邮箱'}[userInfo.email==undefined ||
									userInfo.email==null || userInfo.email=='']}}</button></a>
							</span>
						</div>
				</div>
				<div class="row mg_t_20">
					<!-- ------------------------------------------------登录密码 -->
						<label class="col-md-offset-1 col-md-2  col-sm-4 control-label ">登录密码：</label>
						<div class="col-md-2 col-sm-4">
							<span
								ng-show="userInfo.password!=undefined && userInfo.password!=null && userInfo.password!=''">
								已设置 </span> <span
								ng-show="userInfo.password==undefined ||userInfo.password==null || userInfo.password==''">
								未设置 </span>
						</div>
						<div class="col-md-2 col-sm-4">
							<span
								ng-show="userInfo.password!=undefined && userInfo.password!=null && userInfo.password!=''">
								<a href="#editUser">
								<button class="btn btn-xs btn-info">{{{true:'重新设置'}[userInfo.password!=undefined
									&& userInfo.password!=null && userInfo.password!='']}}</button></a>
							</span> <span
								ng-show="userInfo.password==undefined ||userInfo.password==null || userInfo.password==''">
								<a href=""> <button class="btn btn-xs btn-info">{{{true:'设置'}[userInfo.password==undefined ||
									userInfo.password==null || userInfo.password=='']}}</button></a>
							</span>
						</div>
				</div>
				<!--<div class="row mg_t_20">
					 <div class="col-md-6 col-sm-12">
						<label class="col-md-offset-1 col-md-2 col-sm-4 control-label ">手机号：</label>
						<div class="col-md-2 col-sm-4">
							<span
								ng-show="userInfo.email!=undefined && userInfo.email!=null && userInfo.email!=''">
								已设置 </span> <span
								ng-show="userInfo.email==undefined ||userInfo.email==null || userInfo.email==''">
								未绑定 </span>
						</div>
						<div class="col-md-2 col-sm-4">
							<span
								ng-show="userInfo.email!=undefined && userInfo.email!=null && userInfo.email!=''">
								<a href="">{{{true:'修改'}[userInfo.email!=undefined
									&& userInfo.email!=null && userInfo.email!='']}}</a>
							</span> <span
								ng-show="userInfo.email==undefined ||userInfo.email==null || userInfo.email==''">
								<a href="">
									{{{true:'绑定手机号'}[userInfo.email==undefined ||
									userInfo.email==null || userInfo.email=='']}}</a>
							</span>
						</div>
					</div> 
				</div>-->
				<!-- -----------------------------------支付密码 -->
				<div class="row mg_t_20">
						<label class="col-md-offset-1 col-md-2 col-sm-4 control-label ">支付密码：</label>
						<div class="col-md-2 col-sm-4">
							<span
								ng-show="userInfo.payPassword!=undefined && userInfo.payPassword!=null && userInfo.payPassword!=''">
								已设置 </span> <span
								ng-show="userInfo.payPassword==undefined ||userInfo.payPassword==null || userInfo.payPassword==''">
								未设置 </span>
						</div>
						<div class="col-md-2 col-sm-4">
							<a>
								<button class="btn btn-xs btn-info" ng-click="checkPayPwd(userInfo.email,userInfo.payPassword)" id="setBtn">{{{true:'重新设置',false:'设置'}[userInfo.payPassword!=undefined&& userInfo.payPassword!=null && userInfo.payPassword!='']}}</button>
								</a>
						</div>
						<div class="col-md-2 col-sm-3" ng-show="userInfo.payPassword!=undefined&& userInfo.payPassword!=null && userInfo.payPassword!=''">
							<button class="btn btn-xs btn-info" ng-click="checkPayPwd(userInfo.email,'')">{{{true:'找回支付密码'}[userInfo.payPassword!=undefined&& userInfo.payPassword!=null && userInfo.payPassword!='']}}</button>
						</div>
				</div>
				<div class="row mg_t_20">
						<label class="col-md-offset-1 col-md-2 col-sm-4 control-label ">账号余额：</label>
						<div class="col-md-2 col-sm-4">
							{{{true:price/100,false:'0.00'}[price!=undefined
							&& price!=null &&
							price!='']|currency:''}}&nbsp;&nbsp;元</div>
						<!-- <div class="col-md-2 col-sm-4">
							<span
								ng-show="userInfo.balance==undefined ||userInfo.balance==null || userInfo.balance==''">
								<a href="#setPayType/1/default">
									<button class="btn btn-xs btn-info">{{{true:'充值'}[userInfo.balance==undefined ||
									userInfo.balance==null || userInfo.balance=='']}}</button></a>
							</span>
						</div> -->
				</div>
			</div>
		</div>
	</div>
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<!-- <button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>-->
				</div>
				<div class="modal-body">
					<div class="row">
						<h3 class="errorColor text-center">设置支付密码需要通过绑定邮箱验证，您还未绑定邮箱，请先绑定邮箱！</h3>
					</div>
				</div>

				<div class="modal-footer" style="text-align: center;">
					<button type="button" class="btn btn-default" data-dismiss="modal" >取消</button>
					<a href="#setPayType/bindEmail"><button type="button" class="btn btn-primary"
						style="margin-left:25%;">绑定邮箱</button></a>
				</div>
			</div>
		</div>
	</div>
	
	<!-- model 设置支付密码  模态框 -->
	<div class="modal fade" id="myModalPwd" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<!-- <button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
					<h4 class="modal-title">标题</h4> -->
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-md-offset-1">
							<h3>
								验证邮件已发送到邮箱 <span class="errorColor">{{userInfo.email}}</span>
							</h3>
						</div>
					</div>
					<div class="row">
						<div class="col-md-offset-1">
							<h5>请在24小时内点击邮箱中的链接设置支付密码</h5>
						</div>
					</div>
					<div class="row mg_t_20">
						<div class="col-md-offset-1 col-md-3">
							<button class="btn btn-primary" ng-click="openEmailUrl(userInfo.email)">立即查收邮件</button>
						</div>
						<a  data-toggle="tooltip" data-placement="bottom"
							title="Tooltip on bottom" ng-click="rePwdEmail()">没有收到邮件？</a>
					</div>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal">关闭</button>
					<!-- <button type="button" class="btn btn-primary" data-dismiss="modal">完成</button> -->
				</div>
			</div>
		</div>
	</div>

</div>

